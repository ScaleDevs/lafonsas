generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type Order {
  size     String
  quantity Int
  price    Float
}

type Product {
  size  String
  price Float
}

model Store {
  id         String     @id @default(auto()) @map("_id") @db.ObjectId
  name       String     @unique
  products   Product[]
  deliveries Delivery[]
}

model Delivery {
  id              String    @id @default(auto()) @map("_id") @db.ObjectId
  postingDate     DateTime
  deliveryNumber  String    @unique
  amount          Float
  badOrder        Float?
  widthHoldingTax Float?
  otherDeduction  Float?
  amountPaid      Float?
  checkNumber     String?
  checkDate       DateTime?
  orders          Order[]
  returnSlip      Order[]
  store           Store     @relation(fields: [storeId], references: [id])
  storeId         String    @db.ObjectId
}

model Account {
  accountId   String @id @default(auto()) @map("_id") @db.ObjectId
  accountName String
}

model Bill {
  billId       String   @id @default(auto()) @map("_id") @db.ObjectId
  vendor       String
  date         DateTime
  invoiceRefNo String   @unique
  amount       Int
}

model Expense {
  expenseId   String   @id @default(auto()) @map("_id") @db.ObjectId
  date        DateTime
  amount      Int
  description String
  accountId   String
  billId      String

  @@index([accountId])
  @@index([billId])
}
